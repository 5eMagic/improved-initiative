<!DOCTYPE html>
<html>
  <head>
  <script type="text/javascript" src="lib/jquery-2.1.4.js"></script>
  <script type="text/javascript" src="lib/knockout-3.3.0.debug.js"></script>
  <script type="text/javascript" src="lib/mousetrap.js"></script>
      
  <script type="text/javascript" src="tracker.js"></script>
  
  <link rel="stylesheet" href="tracker.css">
  </head>
  <body>
  <h1>Creatures</h1>
  <ul class="creatures" data-bind="foreach: creatures">
  <li data-bind="text: Name, click: $root.encounter().AddCreature"></li>
  </ul>
  
  <h1>Tracker</h1>
  <div class="encounter" data-bind="with: encounter">
    <ul class="combatants" data-bind="foreach: creatures">
      <li class="creature" data-bind="css: { selected: $parent.SelectedCreature() == $data }, click: $parent.SelectedCreature">
        <div data-bind="text: Initiative" class="initiative"></div>
        <div data-bind="text: Name" class="name"></div>
        <div class="hp" data-bind="click: FocusHP">
          HP: <div data-bind="text: CurrentHP, style: {color: GetHPColor()}" class="current-hp"></div>
              <form data-bind="submit: CommitHP"><input data-bind="value: HPChange, visible: FocusHP, hasFocus: FocusHP" /></form> / 
              <div data-bind="text: MaxHP" class="max-hp"></div>
        </div>
      </li>
    </ul>
    <p data-bind="click: RollInitiative">Roll Initiative!</p>
    <p data-bind="click: MoveSelectedCreatureUp">Up</p>
    <p data-bind="click: MoveSelectedCreatureDown">Down</p>
  </div>
  
  <h1>Selected Creature</h1>
  <pre class="selected-creature" data-bind="text:encounter().SelectedCreatureStatblock()"></pre>
  </body>
</html>